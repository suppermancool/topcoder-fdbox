<admin-layout>
  <h3 class="page-header">
    {{$ctrl.user.fullName}} ({{$ctrl.user.email}})
  </h3>
  <form name="uF">
    <h4>Account</h4>
    <div class="form-group">
      <label for="billingDiscount">Billing Discount</label>
      <select class="form-control" id="billingDiscount" ng-model="$ctrl.user.account.billingDiscount" ng-init="null" ng-options="bd.value as bd.title for bd in $ctrl.billingDiscounts">
      </select>
    </div>
    <h4>User</h4>
    <div class="form-group">
      <label for="emailInp">Email</label>
      <input type="email" class="form-control" id="emailInp" ng-model="$ctrl.user.email" required>
    </div>
    <div class="form-group">
      <label for="roleIn">Role</label>
      <input type="text" class="form-control" id="roleIn" ng-model="$ctrl.user.role" disabled>
    </div>
    <div class="form-group">
      <label for="compIn">Company</label>
      <input type="text" class="form-control" id="compIn" ng-model="$ctrl.user.company">
    </div>
    <div class="form-group">
      <label for="fnameIn">First Name</label>
      <input type="text" class="form-control" id="fnameIn" ng-model="$ctrl.user.fname">
    </div>
    <div class="form-group">
      <label for="lnameIn">Last Name</label>
      <input type="text" class="form-control" id="lnameIn" ng-model="$ctrl.user.lname">
    </div>
    <div class="form-group">
      <label for="addrIn">Address</label>
      <input type="text" class="form-control" id="addrIn" ng-model="$ctrl.user.address">
    </div>
    <div class="form-group">
      <label for="postcodeIn">Postcode</label>
      <input type="text" class="form-control" id="postcodeIn" ng-model="$ctrl.user.postcode">
    </div>
    <div class="form-group">
      <label for="countryIn">City</label>
      <input type="text" class="form-control" id="countryIn" ng-model="$ctrl.user.city">
    </div>
    <div class="form-group">
      <label for="vatIn">VAT Number</label>
      <input type="text" class="form-control" id="vatIn" ng-model="$ctrl.user.vatNumber">
    </div>
    <h4>Preferences</h4>
    <div class="form-group">
      <label for="prefFont">{{'SFONT_NAME' | translate}}</label>
      <select class="form-control" id="prefFont" ng-model="$ctrl.user.preferences.standardFontName" required>
        <option value="Arial">Arial</option>
        <option value="Helvetica">Helvetica</option>
        <option value="Times New Roman">Times New Roman</option>
        <option value="Times">Times</option>
        <option value="Courier New">Courier New</option>
      </select>
    </div>
    <div class="form-group">
      <label for="prefSize">{{'SFONT_SIZE' | translate}}</label>
      <select class="form-control" id="prefSize" ng-model="$ctrl.user.preferences.standardFontSize" required>
        <option>11px</option>
        <option>12px</option>
        <option>14px</option>
        <option>16px</option>
        <option>18px</option>
      </select>
    </div>
    <div class="alert alert-danger" ng-show="$ctrl.profileUpdateError">
      {{$ctrl.profileUpdateError}}
    </div>
    <div class="form-group">
      <a href="/admin/users" class="btn btn-default">Back</a>
      <button type="submit" class="btn btn-primary" ng-click="$ctrl.upateUser($ctrl.user)" ng-disabled="!uF.$dirty || uF.$invalid || $ctrl.working">{{$ctrl.user.id ? 'Update' : 'Create'}}</button>
      <button type="button" class="btn btn-danger pull-right" ng-if="$ctrl.user.id" ng-click="$ctrl.deleteUser($ctrl.user)">Delete</button>
    </div>
  </form>
</admin-layout>
